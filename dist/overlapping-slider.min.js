/**!
 * Overlapping Slider v0.0.3
 * @author phucbm
 * @homepage https://github.com/viivue/overlapping-slider
 * @license MIT 2022
 */
!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var o in i)("object"==typeof exports?exports:t)[o]=i[o]}}(this,(()=>(()=>{"use strict";var t={r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function i(t,e){Object.assign(t.style,e)}function o(t=""){return t+(+new Date).toString(16)+(1e8*Math.random()|0).toString(16)}function s(t,e,i=!0){let o=e+1;return o>=t&&(o=i?0:t-1),o}function a(t,e,i=!0){let o=e-1;return o<0&&(o=i?t-1:0),o}function n(t){return"string"==typeof t&&0===t.length}function r(t,e){return t.slides[e]}function p(t){let e=0;!function(t,e,i,o=!0){let n=e;for(let e=0;e<t;e++)i(n,t),n=o?s(t,n):a(t,n)}(t.slideCount,t.currentIndex,((o,s)=>{i(r(t,o),{zIndex:""+(s-e)}),e++}))}function l(t){t.isAutoplay&&t.isPlay&&(clearTimeout(t.autoplayInterval),t.autoplayInterval=setTimeout((()=>{t.next({action:"autoplay"})}),1e3*t.autoplaySpeed))}let d,u;t.r(e);class h{constructor(t){this._class={enabled:"os-enabled",active:"os-active",swipe:"os-swipe"},this._attr={container:"data-overlapping-slider",autoplay:"data-os-autoplay",swipe:"data-os-swipe",pauseOnHover:"data-os-pause-on-hover"},this.originalOptions=t,this.initialize()}initialize(){var t;this.setupData(),this.setupCSS(),this.select(this.options.activeSlide),this.isAutoplay&&this.options.pauseOnHover&&(t=this).isAutoplay&&t.options.pauseOnHover&&(d=t.pause.bind(t),u=t.play.bind(t),t.wrapper.addEventListener("mousemove",d),t.wrapper.addEventListener("mouseout",u)),function(t){t.options.swipe?"function"==typeof Hammer?(void 0!==t.hammer&&t.hammer.off("swipeleft swiperight"),t.hammer=new Hammer(t.wrapper,{}),t.hammer.on("swipeleft",(()=>t.next({action:"swipe"}))),t.hammer.on("swiperight",(()=>t.previous({action:"swipe"}))),i(t.wrapper,{cursor:"grab"}),t.wrapper.addEventListener("mousedown",(()=>{i(t.wrapper,{cursor:"grabbing"})})),t.wrapper.addEventListener("mouseup",(()=>{i(t.wrapper,{cursor:"grab"})})),t.wrapper.classList.add(t._class.swipe)):console.warn(`[${t.id}] Hammer.js is required to enable swipe feature.`):t.wrapper.classList.remove(t._class.swipe)}(this)}setupData(){if(this.options={id:o("slider-"),selector:`[${this._attr.container}]`,el:document.querySelector(`[${this._attr.container}]`),aspectRatio:"1280/768",duration:.7,offsetX:23,offsetY:23,scale:.85,swipe:!1,autoplay:!1,loop:!0,activeSlide:0,pauseOnHover:!0,onPause:t=>{},onPlay:t=>{},onChange:t=>{},...this.originalOptions},!this.options.el)return void function(t,e,...i){t.options.dev&&console?.[e](...i)}(this,"warn","Error, target not found!");this.wrapper=this.options.el,this.slides=this.options.el.querySelectorAll(":scope > *"),this.slideCount=this.slides.length,this.currentIndex=this.options.activeSlide;const t=this.wrapper.getAttribute(this._attr.container);this.id=null===t||n(t)?this.options.id:t,this.wrapper.setAttribute(this._attr.container,this.id),this.autoplaySpeed=3,this.isAutoplay=!1,this.autoplayInterval=void 0,this.isPlay=!0,function(t){if(t.wrapper.hasAttribute(t._attr.autoplay)){t.isAutoplay=!0;const e=t.wrapper.getAttribute(t._attr.autoplay);n(e)?t.options.autoplay=!0:t.autoplaySpeed=parseFloat(e)}else"number"==typeof t.options.autoplay?(t.autoplaySpeed=t.options.autoplay,t.isAutoplay=!0):!0===t.options.autoplay&&(t.isAutoplay=!0)}(this),this.wrapper.hasAttribute(this._attr.pauseOnHover)&&"false"===this.wrapper.getAttribute(this._attr.pauseOnHover).toLowerCase().trim()&&(this.options.pauseOnHover=!1),this.wrapper.hasAttribute(this._attr.swipe)&&(this.options.swipe=!0),this.wrapper.classList.add(this._class.enabled),this.action=void 0}setupCSS(){i(this.wrapper,{position:"relative",aspectRatio:this.options.aspectRatio,marginBottom:`${this.options.offsetY}px`}),this.slides.forEach(((t,e)=>{i(t,{position:"absolute",width:"100%",aspectRatio:this.options.aspectRatio,top:`${this.options.offsetY}px`,left:`${this.options.offsetX}px`,transformOrigin:"top left",zIndex:""+(this.slideCount-e)})}))}update(t){var e;this.isAutoplay&&this.options.pauseOnHover&&((e=this).wrapper.removeEventListener("mousemove",d),e.wrapper.removeEventListener("mouseout",u)),Object.assign(this.originalOptions,t),this.initialize()}select(t,e,i){var o,n;this.direction="boolean"==typeof e?e:(o=this.currentIndex,0===(n=t)?1!==o:0===o?1===n:o<n),this.currentIndex=t,this.action=i;const d=r(this,t),u=this.direction?r(this,a(this.slideCount,this.currentIndex,this.options.loop)):r(this,s(this.slideCount,this.currentIndex,this.options.loop));this.direction?function(t,e,i){const o=gsap.timeline();o.addLabel("hidePrevSlide"),o.to(e,{top:`-${t.options.offsetY}px`,left:`-${t.options.offsetX}px`,scale:t.options.scale,onComplete:()=>p(t)}),o.addLabel("movePrevSlideToBack"),o.to(e,{top:`${t.options.offsetY}px`,left:`${t.options.offsetX}px`,scale:1}),o.addLabel("showActiveSlide","movePrevSlideToBack"),o.to(i,{top:"0",left:"0"},"showActiveSlide"),o.duration(t.options.duration).play()}(this,u,d):function(t,e,i){const o=gsap.timeline();o.addLabel("hidePrevSlide"),o.to(e,{top:`${t.options.offsetY}px`,left:`${t.options.offsetX}px`,scale:1}),o.addLabel("showActiveSlide","hidePrevSlide"),o.to(i,{top:`-${t.options.offsetY}px`,left:`-${t.options.offsetX}px`,scale:t.options.scale,onComplete:()=>p(t)},"showActiveSlide"),o.to(i,{top:"0",left:"0",scale:1}),o.duration(t.options.duration).play()}(this,u,d),this.slides.forEach(((t,e)=>{e===this.currentIndex?t.classList.add(this._class.active):t.classList.remove(this._class.active)})),l(this),this.options.onChange(this)}next({action:t="default"}={}){this.select(s(this.slideCount,this.currentIndex,this.options.loop),!0,t)}previous({action:t="default"}={}){this.select(a(this.slideCount,this.currentIndex,this.options.loop),!1,t)}pause(){this.isPlay=!1,clearTimeout(this.autoplayInterval),this.options.onPause(this)}play(){this.isPlay=!0,l(this),this.options.onPlay(this)}}return window.OverlappingSliderController=new class{constructor(){this.instances=[]}add(t){this.instances.push(t)}get(t){return this.instances.filter((e=>e.id===t))[0]}},window.OverlappingSlider={init:(t={})=>{const e=t.el;if(e)return void window.OverlappingSliderController.add(new h({el:e,...t}));const i=t.selector||"[data-overlapping-slider]";document.querySelectorAll(i).forEach((e=>{window.OverlappingSliderController.add(new h({el:e,...t}))}))},get:t=>window.OverlappingSliderController.get(t)},window.OverlappingSlider.init(),e})()));