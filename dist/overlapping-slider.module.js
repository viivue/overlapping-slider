/**!
 * Overlapping Slider v0.0.3
 * @author phucbm
 * @homepage https://github.com/viivue/overlapping-slider
 * @license MIT 2022
 */
function t(t,e){Object.assign(t.style,e)}function e(t=""){return t+(+new Date).toString(16)+(1e8*Math.random()|0).toString(16)}function i(t,e,i=!0){let s=e+1;return s>=t&&(s=i?0:t-1),s}function s(t,e,i=!0){let s=e-1;return s<0&&(s=i?t-1:0),s}function o(t){return"string"==typeof t&&0===t.length}function a(t,e){return t.slides[e]}function n(e){let o=0;!function(t,e,o,a=!0){let n=e;for(let e=0;e<t;e++)o(n,t),n=a?i(t,n):s(t,n)}(e.slideCount,e.currentIndex,((i,s)=>{t(a(e,i),{zIndex:""+(s-o)}),o++}))}function r(t){t.isAutoplay&&t.isPlay&&(clearTimeout(t.autoplayInterval),t.autoplayInterval=setTimeout((()=>{t.next({action:"autoplay"})}),1e3*t.autoplaySpeed))}let p,l;class h{constructor(t){this._class={enabled:"os-enabled",active:"os-active",swipe:"os-swipe"},this._attr={container:"data-overlapping-slider",autoplay:"data-os-autoplay",swipe:"data-os-swipe",pauseOnHover:"data-os-pause-on-hover"},this.originalOptions=t,this.initialize()}initialize(){var e;this.setupData(),this.setupCSS(),this.select(this.options.activeSlide),this.isAutoplay&&this.options.pauseOnHover&&(e=this).isAutoplay&&e.options.pauseOnHover&&(p=e.pause.bind(e),l=e.play.bind(e),e.wrapper.addEventListener("mousemove",p),e.wrapper.addEventListener("mouseout",l)),function(e){e.options.swipe?"function"==typeof Hammer?(void 0!==e.hammer&&e.hammer.off("swipeleft swiperight"),e.hammer=new Hammer(e.wrapper,{}),e.hammer.on("swipeleft",(()=>e.next({action:"swipe"}))),e.hammer.on("swiperight",(()=>e.previous({action:"swipe"}))),t(e.wrapper,{cursor:"grab"}),e.wrapper.addEventListener("mousedown",(()=>{t(e.wrapper,{cursor:"grabbing"})})),e.wrapper.addEventListener("mouseup",(()=>{t(e.wrapper,{cursor:"grab"})})),e.wrapper.classList.add(e._class.swipe)):console.warn(`[${e.id}] Hammer.js is required to enable swipe feature.`):e.wrapper.classList.remove(e._class.swipe)}(this)}setupData(){if(this.options={id:e("slider-"),selector:`[${this._attr.container}]`,el:document.querySelector(`[${this._attr.container}]`),aspectRatio:"1280/768",duration:.7,offsetX:23,offsetY:23,scale:.85,swipe:!1,autoplay:!1,loop:!0,activeSlide:0,pauseOnHover:!0,onPause:t=>{},onPlay:t=>{},onChange:t=>{},...this.originalOptions},!this.options.el)return void function(t,e,...i){t.options.dev&&console?.[e](...i)}(this,"warn","Error, target not found!");this.wrapper=this.options.el,this.slides=this.options.el.querySelectorAll(":scope > *"),this.slideCount=this.slides.length,this.currentIndex=this.options.activeSlide;const t=this.wrapper.getAttribute(this._attr.container);this.id=null===t||o(t)?this.options.id:t,this.wrapper.setAttribute(this._attr.container,this.id),this.autoplaySpeed=3,this.isAutoplay=!1,this.autoplayInterval=void 0,this.isPlay=!0,function(t){if(t.wrapper.hasAttribute(t._attr.autoplay)){t.isAutoplay=!0;const e=t.wrapper.getAttribute(t._attr.autoplay);o(e)?t.options.autoplay=!0:t.autoplaySpeed=parseFloat(e)}else"number"==typeof t.options.autoplay?(t.autoplaySpeed=t.options.autoplay,t.isAutoplay=!0):!0===t.options.autoplay&&(t.isAutoplay=!0)}(this),this.wrapper.hasAttribute(this._attr.pauseOnHover)&&"false"===this.wrapper.getAttribute(this._attr.pauseOnHover).toLowerCase().trim()&&(this.options.pauseOnHover=!1),this.wrapper.hasAttribute(this._attr.swipe)&&(this.options.swipe=!0),this.wrapper.classList.add(this._class.enabled),this.action=void 0}setupCSS(){t(this.wrapper,{position:"relative",aspectRatio:this.options.aspectRatio,marginBottom:`${this.options.offsetY}px`}),this.slides.forEach(((e,i)=>{t(e,{position:"absolute",width:"100%",aspectRatio:this.options.aspectRatio,top:`${this.options.offsetY}px`,left:`${this.options.offsetX}px`,transformOrigin:"top left",zIndex:""+(this.slideCount-i)})}))}update(t){var e;this.isAutoplay&&this.options.pauseOnHover&&((e=this).wrapper.removeEventListener("mousemove",p),e.wrapper.removeEventListener("mouseout",l)),Object.assign(this.originalOptions,t),this.initialize()}select(t,e,o){var p,l;this.direction="boolean"==typeof e?e:(p=this.currentIndex,0===(l=t)?1!==p:0===p?1===l:p<l),this.currentIndex=t,this.action=o;const h=a(this,t),u=this.direction?a(this,s(this.slideCount,this.currentIndex,this.options.loop)):a(this,i(this.slideCount,this.currentIndex,this.options.loop));this.direction?function(t,e,i){const s=gsap.timeline();s.addLabel("hidePrevSlide"),s.to(e,{top:`-${t.options.offsetY}px`,left:`-${t.options.offsetX}px`,scale:t.options.scale,onComplete:()=>n(t)}),s.addLabel("movePrevSlideToBack"),s.to(e,{top:`${t.options.offsetY}px`,left:`${t.options.offsetX}px`,scale:1}),s.addLabel("showActiveSlide","movePrevSlideToBack"),s.to(i,{top:"0",left:"0"},"showActiveSlide"),s.duration(t.options.duration).play()}(this,u,h):function(t,e,i){const s=gsap.timeline();s.addLabel("hidePrevSlide"),s.to(e,{top:`${t.options.offsetY}px`,left:`${t.options.offsetX}px`,scale:1}),s.addLabel("showActiveSlide","hidePrevSlide"),s.to(i,{top:`-${t.options.offsetY}px`,left:`-${t.options.offsetX}px`,scale:t.options.scale,onComplete:()=>n(t)},"showActiveSlide"),s.to(i,{top:"0",left:"0",scale:1}),s.duration(t.options.duration).play()}(this,u,h),this.slides.forEach(((t,e)=>{e===this.currentIndex?t.classList.add(this._class.active):t.classList.remove(this._class.active)})),r(this),this.options.onChange(this)}next({action:t="default"}={}){this.select(i(this.slideCount,this.currentIndex,this.options.loop),!0,t)}previous({action:t="default"}={}){this.select(s(this.slideCount,this.currentIndex,this.options.loop),!1,t)}pause(){this.isPlay=!1,clearTimeout(this.autoplayInterval),this.options.onPause(this)}play(){this.isPlay=!0,r(this),this.options.onPlay(this)}}window.OverlappingSliderController=new class{constructor(){this.instances=[]}add(t){this.instances.push(t)}get(t){return this.instances.filter((e=>e.id===t))[0]}},window.OverlappingSlider={init:(t={})=>{const e=t.el;if(e)return void window.OverlappingSliderController.add(new h({el:e,...t}));const i=t.selector||"[data-overlapping-slider]";document.querySelectorAll(i).forEach((e=>{window.OverlappingSliderController.add(new h({el:e,...t}))}))},get:t=>window.OverlappingSliderController.get(t)},window.OverlappingSlider.init();